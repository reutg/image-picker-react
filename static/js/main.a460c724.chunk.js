(this.webpackJsonpradware=this.webpackJsonpradware||[]).push([[0],{119:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c,s,l,u,p,m,h,f,d=a(0),b=a.n(d),v=a(8),g=a.n(v),O=a(22),j=a(74),y=a(35),E=a.n(y),w=a(44),k=a(27),C=a(10),S=a(11),x=a(23),F=(a(102),a(7)),I=a(75),N=a.n(I);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T,D,z,A,L=(n=function(){function e(){Object(C.a)(this,e),Object(k.a)(this,"images",r,this),Object(k.a)(this,"favorites",i,this),Object(k.a)(this,"totalPagesAmount",o,this),Object(k.a)(this,"noResults",c,this),Object(k.a)(this,"pageNum",s,this),Object(k.a)(this,"query",l,this),Object(k.a)(this,"goToPage",u,this),Object(k.a)(this,"loadImages",p,this),Object(k.a)(this,"saveToFavorites",m,this),Object(k.a)(this,"removeFavorite",h,this),Object(k.a)(this,"editFavorite",f,this);var t=localStorage.getItem("favorites");t&&(this.favorites=JSON.parse(t))}return Object(S.a)(e,[{key:"callApi",value:function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=52,e.next=3,N.a.get("https://pixabay.com/api/?key=".concat("14511609-744a126e4517a4592d7bbe83d","&q=").concat(this.query,"&per_page=").concat(t,"&page=").concat(this.pageNum,'&image_type="vector"'));case 3:a=e.sent,n=a.data,r=n.totalHits,i=n.hits,this.totalPagesAmount=Math.ceil(r/t),this.noResults=0===i.length,this.images=i;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFavoritesToLocalStroage",value:function(){localStorage.setItem("favorites",JSON.stringify(this.favorites))}},{key:"favoritesToArray",get:function(){return Object.values(this.favorites)}},{key:"favoritesLength",get:function(){return this.favoritesToArray.length}}]),e}(),r=Object(x.a)(n.prototype,"images",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(x.a)(n.prototype,"favorites",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(x.a)(n.prototype,"totalPagesAmount",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(x.a)(n.prototype,"noResults",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(x.a)(n.prototype,"pageNum",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=Object(x.a)(n.prototype,"query",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Object(x.a)(n.prototype,"goToPage",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t!==e.pageNum&&t>=1&&t<=e.totalPagesAmount&&(e.pageNum=t,e.callApi())}}}),p=Object(x.a)(n.prototype,"loadImages",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.query=a,e.pageNum=1,t.next=4,e.callApi();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Object(x.a)(n.prototype,"favoritesToArray",[F.e],Object.getOwnPropertyDescriptor(n.prototype,"favoritesToArray"),n.prototype),Object(x.a)(n.prototype,"favoritesLength",[F.e],Object.getOwnPropertyDescriptor(n.prototype,"favoritesLength"),n.prototype),m=Object(x.a)(n.prototype,"saveToFavorites",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a={id:t.id,imageURL:t.largeImageURL,description:t.tags};e.favorites[t.id]=a,e.saveFavoritesToLocalStroage()}}}),h=Object(x.a)(n.prototype,"removeFavorite",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){delete e.favorites[t],e.saveFavoritesToLocalStroage()}}}),f=Object(x.a)(n.prototype,"editFavorite",[F.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.favorites[t]=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.favorites[t],{description:a}),e.saveFavoritesToLocalStroage()}}}),n),M=(a(119),a(13)),R=a(12),q=a(14),U=a(86),W=a(166),B=a(153),J=a(157),H=a(158),V=a(4),_=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return b.a.createElement("div",{className:e.root},b.a.createElement(B.a,{position:"static"},b.a.createElement(J.a,null,b.a.createElement(H.a,{variant:"h6",className:e.title},"Image picker"))))}}]),t}(d.Component),G=Object(V.a)({})(_),$=a(167),K=a(161),Q=a(126),X=a(127),Y=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(M.a)(this,Object(R.a)(t).call(this))).handleChange=function(t){e.setState({searchInput:t.target.value})},e.loadImages=function(t){t.preventDefault();var a=e.state.searchInput;0===a.length?e.setState({showError:!0}):e.props.loadImages(a)},e.state={searchInput:"",showError:!1},e}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.searchInput,n=t.showError;return b.a.createElement("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:this.loadImages},b.a.createElement("div",{className:e.inputContainer},b.a.createElement($.a,{required:!0,className:e.input,name:"searchInput",value:a,onChange:this.handleChange,placeholder:"Search for images..."}),n&&b.a.createElement(K.a,{error:!0},"Please enter a search term")),b.a.createElement(Q.a,{type:"submit",color:"secondary",variant:"contained"},"Search"))}}]),t}(d.Component),Z=Object(X.a)({form:{display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"5% 3%"},inputContainer:{display:"flex",flexDirection:"column",width:"70%"}})(Y),ee=a(169),te=a(165),ae=a(79),ne=a.n(ae),re=a(78),ie=a.n(re),oe=a(162),ce=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.image,n=e.saveToFavorites,r=e.isFavorite;if(a)return b.a.createElement("div",{className:t.image,style:{backgroundImage:"url('".concat(a.largeImageURL,"')")}},b.a.createElement(oe.a,{size:"small",classes:{root:t.button},onClick:function(){return n(a)}},r?b.a.createElement(ie.a,{className:t.iconFilled}):b.a.createElement(ne.a,null)))}}]),t}(d.Component),se=Object(X.a)((function(e){return{image:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",width:"15vh",height:"15vh",margin:"1.5%",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"1%"},button:{margin:"5%",backgroundColor:"rgba(247, 248, 250, 0.7)"},iconFilled:{color:e.palette.secondary.main}}}))(ce),le=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return b.a.createElement(H.a,{variant:"subtitle1",color:"secondary"},"No images were found")}}]),t}(d.Component),ue=a(163),pe=a(164),me=a(80),he=a.n(me),fe=a(81),de=a.n(fe),be=Object(O.b)("imagesStore")(T=Object(O.c)(T=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(M.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).createPages=function(){for(var e=a.props,t=e.classes,n=e.imagesStore,r=[],i=function(e){r.push(b.a.createElement(Q.a,{onClick:function(){return a.goToPage(e)},className:n.pageNum===e?t.currentPage:t.pageButton,key:e},e))},o=1;o<=n.totalPagesAmount;o++)i(o);return r},a.goToPage=function(e){a.props.imagesStore.goToPage(e)},a}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.imagesStore;return b.a.createElement("div",{className:a.container},b.a.createElement(ue.a,{className:a.arrow,onClick:function(){return e.goToPage(n.pageNum-1)}},b.a.createElement(he.a,null)),b.a.createElement(pe.a,{classes:{grouped:a.grouped,root:a.buttonGroup},variant:"text"},this.createPages()),b.a.createElement(ue.a,{className:a.arrow,onClick:function(){return e.goToPage(n.pageNum+1)}},b.a.createElement(de.a,null)))}}]),t}(d.Component))||T)||T,ve=Object(X.a)((function(e){return{container:{display:"flex",alignItems:"center",padding:"5%",justifyContent:"space-evenly",flexWrap:"wrap"},pageButton:{fontSize:"0.7em"},currentPage:{fontSize:"0.7em",color:e.palette.secondary.main},grouped:{minWidth:"10%",padding:"2px 8px"}}}))(be),ge=Object(O.b)("imagesStore")(D=Object(O.c)(D=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(M.a)(this,Object(R.a)(t).call(this))).saveToFavorites=function(t){Object(F.o)(e.props.imagesStore.favorites)[t.id]?e.setState({isSnackbarOpen:!0}):e.props.imagesStore.saveToFavorites(t)},e.handleClose=function(){e.setState({isSnackbarOpen:!1})},e.state={isSnackbarOpen:!1},e}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.imagesStore,r=Object(F.o)(n.images),i=Object(F.o)(n.favorites),o=this.state.isSnackbarOpen;return b.a.createElement("div",{className:a.container},n.noResults?b.a.createElement(le,null):b.a.createElement("div",{className:a.images},r.map((function(t){return b.a.createElement(se,{key:t.id,image:t,saveToFavorites:e.saveToFavorites,isFavorite:!!i[t.id]})}))),r.length?b.a.createElement(ve,null):"",b.a.createElement(ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:2e3,onClose:this.handleClose,TransitionComponent:te.a,message:b.a.createElement("span",null,"Image already saved to favorites")}))}}]),t}(d.Component))||D)||D,Oe=Object(X.a)({container:{display:"flex",flexDirection:"column",alignItems:"center"},images:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"3% 4%"}})(ge),je=a(125),ye=a(170),Ee=a(82),we=a.n(Ee),ke=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.favorite,n=e.closeDialog,r=e.isDialogOpen;return b.a.createElement(ye.a,{onClose:n,open:r},b.a.createElement("div",{className:t.image,style:{backgroundImage:"url('".concat(a.imageURL,"')")}},b.a.createElement(oe.a,{size:"small",className:t.icon,onClick:n},b.a.createElement(we.a,null))))}}]),t}(d.Component),Ce=Object(X.a)({image:{width:"70vh",height:"70vh",display:"flex",flexDirection:"column",justifyContent:"end",alignItems:"flex-end",backgroundSize:"cover",backgroundPosition:"center"},icon:{margin:"1%",width:"35px",height:"30px",backgroundColor:"rgba(247, 248, 250, 0.7)"}})(ke),Se=a(84),xe=a.n(Se),Fe=a(85),Ie=a.n(Fe),Ne=a(159),Pe=a(83),Te=a.n(Pe),De=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleInput,n=e.descriptionInput,r=e.isEditModeOn,i=e.editFavorite;return b.a.createElement("div",{className:t.inputContainer},b.a.createElement(Ne.a,{multiline:!0,value:n,onChange:a,classes:{root:t.input},disableUnderline:!r,disabled:!r}),r&&b.a.createElement(ue.a,{onClick:i},b.a.createElement(Te.a,{color:"primary"})))}}]),t}(d.Component),ze=Object(X.a)({inputContainer:{display:"flex"},input:{fontSize:"0.8em"}})(De),Ae=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleInput,n=e.descriptionInput,r=e.isEditModeOn,i=e.editFavorite,o=e.showEditFavorite,c=e.removeFavorite,s=e.favorite;return b.a.createElement("div",{className:t.container},b.a.createElement("div",{className:t.description},b.a.createElement(ze,{handleInput:a,descriptionInput:n,isEditModeOn:r,editFavorite:i})),b.a.createElement("div",{className:t.actions},b.a.createElement(xe.a,{className:t.icon,onClick:o}),b.a.createElement(Ie.a,{className:t.icon,onClick:function(){return c(s.id)}})))}}]),t}(d.Component),Le=Object(X.a)({container:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0 3%"},description:{width:"70%"},actions:{width:"25%",display:"flex",justifyContent:"space-evenly"},icon:{color:"#616161"}})(Ae),Me=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(M.a)(this,Object(R.a)(t).call(this))).componentDidMount=function(){e.setState({descriptionInput:e.props.favorite.description})},e.showEditFavorite=function(){e.setState({isEditModeOn:!0})},e.handleInput=function(t){e.setState({descriptionInput:t.target.value})},e.editFavorite=function(){var t=e.props.favorite,a=e.state.descriptionInput;a&&a.length&&(e.setState({isEditModeOn:!1}),e.props.editFavorite(t.id,a))},e.openDialog=function(){e.setState({isDialogOpen:!0})},e.closeDialog=function(){e.setState({isDialogOpen:!1})},e.state={descriptionInput:"",isEditModeOn:!1,isDialogOpen:!1},e}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isEditModeOn,a=e.descriptionInput,n=e.isDialogOpen,r=this.props,i=r.classes,o=r.favorite,c=r.removeFavorite;return b.a.createElement(b.a.Fragment,null,b.a.createElement(je.a,{className:i.favorite},b.a.createElement("img",{onClick:this.openDialog,className:i.image,src:o.imageURL,alt:o.description}),b.a.createElement(Le,{favorite:o,handleInput:this.handleInput,descriptionInput:a,isEditModeOn:t,editFavorite:this.editFavorite,showEditFavorite:this.showEditFavorite,removeFavorite:c})),b.a.createElement(Ce,{favorite:o,isDialogOpen:n,closeDialog:this.closeDialog}))}}]),t}(d.Component),Re=Object(X.a)({favorite:{display:"flex",justifyContent:"space-between",marginTop:"3%",overflow:"hidden",width:"90%"},image:{width:"10vh",height:"10vh"}})(Me),qe=function(e){function t(){return Object(C.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return b.a.createElement(H.a,{variant:"caption",classes:{root:e.root}},"There are no items in the favorites list")}}]),t}(d.Component),Ue=Object(X.a)({root:{display:"flex",justifyContent:"center"}})(qe),We=Object(O.b)("imagesStore")(z=Object(O.c)(z=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(M.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).removeFavorite=function(e){a.props.imagesStore.removeFavorite(e)},a.editFavorite=function(e,t){a.props.imagesStore.editFavorite(e,t)},a}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.imagesStore;return b.a.createElement("div",{className:a.container},b.a.createElement(H.a,{color:"secondary",className:a.header,variant:"h6"},"Favorites list"),b.a.createElement("div",{className:a.favorites},n.favoritesLength<=0?b.a.createElement(Ue,null):n.favoritesToArray.map((function(t){return b.a.createElement(Re,{key:t.id,favorite:t,removeFavorite:e.removeFavorite,editFavorite:e.editFavorite})}))))}}]),t}(d.Component))||z)||z,Be=Object(X.a)({container:{paddingTop:"2%",width:"35%","@media (max-width:1000px)":{width:"100%"}},header:{textAlign:"center"},favorites:{marginTop:"5%",display:"flex",flexDirection:"column",alignItems:"center"}})(We),Je=Object(U.a)({palette:{primary:{main:"#2C6DAA"},secondary:{main:"#CF5261"}},typography:{useNextVariants:!0,fontFamily:'"Open Sans", sans-serif'}}),He=Object(O.b)("imagesStore")(A=Object(O.c)(A=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(M.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).loadImages=function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.imagesStore.loadImages(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(q.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props.classes;return b.a.createElement(W.a,{theme:Je},b.a.createElement(G,null),b.a.createElement("div",{className:e.container},b.a.createElement("div",{className:e.search},b.a.createElement(Z,{loadImages:this.loadImages}),b.a.createElement(Oe,null)),b.a.createElement(Be,null)))}}]),t}(d.Component))||A)||A,Ve=Object(X.a)({container:{display:"flex",justifyContent:"space-between","@media (max-width:1000px)":{flexDirection:"column-reverse"}},search:{width:"65%","@media (max-width:1000px)":{width:"100%"}}})(He);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e={imagesStore:new L};g.a.render(b.a.createElement(O.a,_e,b.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},95:function(e,t,a){e.exports=a(124)}},[[95,1,2]]]);
//# sourceMappingURL=main.a460c724.chunk.js.map